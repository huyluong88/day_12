<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <!-- <link rel="stylesheet" href="main.css"> -->
    <script src="https://use.fontawesome.com/38fa5742c7.js"></script>
    <title>Blank</title>
</head>

<body>


</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
<!-- <script src="main.js"></script> -->


<!-- FIRST EXAMPLE -->
<!-- <script>
var cell = "555-1212"
var promise = $.ajax({
url: 'https://randomuser.me/api/',
dataType: 'json',
});
promise.then(function(response){                //WAITING FOR OUTSIDE TO HAPPEN FIRST BEFORE IT FIRES
  cell = response.results[0].cell
  console.log('the cell from the api is', cell)

})
console.log('last line of the script, the cell is', cell) //THIS ONE DEPENDS ON THE VAR OUTSIDE OF THE FUNCTION, THUS THIS FIRES FIRST BEFORE THE ONE INSIDE THE .THEN


</script> -->

<!-- SECOND EXAMPLE -->
<script>
function makeAjaxRequest (){
  return $.ajax({
  url: 'https://randomuser.me/api/',
  dataType: 'json',
  });
}
var promise = makeAjaxRequest()
var secondAttempt
promise.then (function(response){
  var nationality = response.results[0].nat
  if(['DK', 'NL'].includes(nationality)){
      console.log('ugh, a Dutchman')
      secondAttempt = makeAjaxRequest()
      secondAttempt.then(function(secondResponse){
        var newNationality = secondResponse.results[0].nat
        console.log('new person from', newNationality)
      })

  } else {
    console.log('person from', nationality)
  }
})

</script>



</html>
